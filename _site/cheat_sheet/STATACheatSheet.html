<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2022-08-15">

<title>Basic Stata Coding Overview</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="../www/styles.css">
</head>

<body class="floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../pre_work/index.html" rel="" target="">
 <span class="menu-text">Pre-work</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../day_1/index.html" rel="" target="">
 <span class="menu-text">Day 1</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../day_2/index.html" rel="" target="">
 <span class="menu-text">Day 2</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../day_3/index.html" rel="" target="">
 <span class="menu-text">Day 3</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../day_4/index.html" rel="" target="">
 <span class="menu-text">Day 4</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../cheat_sheet/cheat_sheet.html" rel="" target="">
 <span class="menu-text">Cheat Sheet</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../resources.html" rel="" target="">
 <span class="menu-text">Resources</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#tips-before-you-start" id="toc-tips-before-you-start" class="nav-link active" data-scroll-target="#tips-before-you-start"><span class="header-section-number">1</span> Tips before you start</a></li>
  <li><a href="#getting-started-with-stata" id="toc-getting-started-with-stata" class="nav-link" data-scroll-target="#getting-started-with-stata"><span class="header-section-number">2</span> Getting started with Stata</a>
  <ul class="collapse">
  <li><a href="#create-and-execute-a-.do-file" id="toc-create-and-execute-a-.do-file" class="nav-link" data-scroll-target="#create-and-execute-a-.do-file"><span class="header-section-number">2.1</span> Create and execute a .do file</a></li>
  <li><a href="#read-in-a-dataset-.dta-.xlsx-.csv-and-.xpt" id="toc-read-in-a-dataset-.dta-.xlsx-.csv-and-.xpt" class="nav-link" data-scroll-target="#read-in-a-dataset-.dta-.xlsx-.csv-and-.xpt"><span class="header-section-number">2.2</span> Read in a Dataset (.dta, .xlsx, .csv, and .xpt)</a>
  <ul class="collapse">
  <li><a href="#reading-a-stata-.dta-file" id="toc-reading-a-stata-.dta-file" class="nav-link" data-scroll-target="#reading-a-stata-.dta-file"><span class="header-section-number">2.2.1</span> Reading a Stata .dta file</a></li>
  <li><a href="#importing-an-excel-file" id="toc-importing-an-excel-file" class="nav-link" data-scroll-target="#importing-an-excel-file"><span class="header-section-number">2.2.2</span> Importing an Excel file</a></li>
  <li><a href="#importing-a-.csv-file" id="toc-importing-a-.csv-file" class="nav-link" data-scroll-target="#importing-a-.csv-file"><span class="header-section-number">2.2.3</span> Importing a .csv file</a></li>
  <li><a href="#reading-in-a-sas-file" id="toc-reading-in-a-sas-file" class="nav-link" data-scroll-target="#reading-in-a-sas-file"><span class="header-section-number">2.2.4</span> Reading in a SAS file</a></li>
  </ul></li>
  <li><a href="#get-to-know-your-data" id="toc-get-to-know-your-data" class="nav-link" data-scroll-target="#get-to-know-your-data"><span class="header-section-number">2.3</span> Get to know your data</a></li>
  </ul></li>
  <li><a href="#basic-data-management" id="toc-basic-data-management" class="nav-link" data-scroll-target="#basic-data-management"><span class="header-section-number">3</span> Basic data management</a>
  <ul class="collapse">
  <li><a href="#generate-quadratic-term" id="toc-generate-quadratic-term" class="nav-link" data-scroll-target="#generate-quadratic-term"><span class="header-section-number">3.1</span> Generate quadratic term</a></li>
  <li><a href="#generate-a-categorical-variable-based-on-cut-points" id="toc-generate-a-categorical-variable-based-on-cut-points" class="nav-link" data-scroll-target="#generate-a-categorical-variable-based-on-cut-points"><span class="header-section-number">3.2</span> Generate a categorical variable based on cut-points</a></li>
  <li><a href="#generate-quantiles" id="toc-generate-quantiles" class="nav-link" data-scroll-target="#generate-quantiles"><span class="header-section-number">3.3</span> Generate quantiles</a></li>
  <li><a href="#generate-an-indicatordummy-variable" id="toc-generate-an-indicatordummy-variable" class="nav-link" data-scroll-target="#generate-an-indicatordummy-variable"><span class="header-section-number">3.4</span> Generate an indicator/dummy variable</a></li>
  <li><a href="#label-a-new-variable" id="toc-label-a-new-variable" class="nav-link" data-scroll-target="#label-a-new-variable"><span class="header-section-number">3.5</span> Label a new variable</a></li>
  <li><a href="#sort-the-data" id="toc-sort-the-data" class="nav-link" data-scroll-target="#sort-the-data"><span class="header-section-number">3.6</span> Sort the data</a></li>
  <li><a href="#merge-two-datasets-with-a-single-row-for-each-individual" id="toc-merge-two-datasets-with-a-single-row-for-each-individual" class="nav-link" data-scroll-target="#merge-two-datasets-with-a-single-row-for-each-individual"><span class="header-section-number">3.7</span> Merge two datasets with a single row for each individual</a></li>
  <li><a href="#keeping-and-dropping-observations" id="toc-keeping-and-dropping-observations" class="nav-link" data-scroll-target="#keeping-and-dropping-observations"><span class="header-section-number">3.8</span> Keeping and dropping observations</a></li>
  </ul></li>
  <li><a href="#descriptives-statistical-tests-and-visualization-tools" id="toc-descriptives-statistical-tests-and-visualization-tools" class="nav-link" data-scroll-target="#descriptives-statistical-tests-and-visualization-tools"><span class="header-section-number">4</span> Descriptives, statistical tests, and visualization tools</a>
  <ul class="collapse">
  <li><a href="#categorical-data-frequencies-tests-and-association-measures" id="toc-categorical-data-frequencies-tests-and-association-measures" class="nav-link" data-scroll-target="#categorical-data-frequencies-tests-and-association-measures"><span class="header-section-number">4.1</span> Categorical data: frequencies, tests, and association measures</a>
  <ul class="collapse">
  <li><a href="#one-way-frequency-table" id="toc-one-way-frequency-table" class="nav-link" data-scroll-target="#one-way-frequency-table"><span class="header-section-number">4.1.1</span> One-way frequency table</a></li>
  <li><a href="#rxc-frequency-tables" id="toc-rxc-frequency-tables" class="nav-link" data-scroll-target="#rxc-frequency-tables"><span class="header-section-number">4.1.2</span> RxC frequency tables</a></li>
  <li><a href="#two-sample-test-of-proportions" id="toc-two-sample-test-of-proportions" class="nav-link" data-scroll-target="#two-sample-test-of-proportions"><span class="header-section-number">4.1.3</span> Two-sample test of proportions</a></li>
  <li><a href="#estimate-measures-of-association" id="toc-estimate-measures-of-association" class="nav-link" data-scroll-target="#estimate-measures-of-association"><span class="header-section-number">4.1.4</span> Estimate measures of association</a></li>
  <li><a href="#stratified-frequency-tables" id="toc-stratified-frequency-tables" class="nav-link" data-scroll-target="#stratified-frequency-tables"><span class="header-section-number">4.1.5</span> Stratified frequency tables</a></li>
  </ul></li>
  <li><a href="#continuous-data-summary-statistics-visualization-and-statistical-tests" id="toc-continuous-data-summary-statistics-visualization-and-statistical-tests" class="nav-link" data-scroll-target="#continuous-data-summary-statistics-visualization-and-statistical-tests"><span class="header-section-number">4.2</span> Continuous data: summary statistics, visualization, and statistical tests</a>
  <ul class="collapse">
  <li><a href="#measures-of-location-and-variance" id="toc-measures-of-location-and-variance" class="nav-link" data-scroll-target="#measures-of-location-and-variance"><span class="header-section-number">4.2.1</span> Measures of location and variance</a></li>
  <li><a href="#histogram" id="toc-histogram" class="nav-link" data-scroll-target="#histogram"><span class="header-section-number">4.2.2</span> Histogram</a></li>
  <li><a href="#box-plots" id="toc-box-plots" class="nav-link" data-scroll-target="#box-plots"><span class="header-section-number">4.2.3</span> Box plots</a></li>
  <li><a href="#scatterplot" id="toc-scatterplot" class="nav-link" data-scroll-target="#scatterplot"><span class="header-section-number">4.2.4</span> Scatterplot</a></li>
  <li><a href="#statistical-tests" id="toc-statistical-tests" class="nav-link" data-scroll-target="#statistical-tests"><span class="header-section-number">4.2.5</span> Statistical Tests</a></li>
  <li><a href="#correlation-coefficients" id="toc-correlation-coefficients" class="nav-link" data-scroll-target="#correlation-coefficients"><span class="header-section-number">4.2.6</span> Correlation coefficients</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#regression-analyses" id="toc-regression-analyses" class="nav-link" data-scroll-target="#regression-analyses"><span class="header-section-number">5</span> Regression analyses</a>
  <ul class="collapse">
  <li><a href="#logistic-regression" id="toc-logistic-regression" class="nav-link" data-scroll-target="#logistic-regression"><span class="header-section-number">5.1</span> Logistic Regression</a>
  <ul class="collapse">
  <li><a href="#using-continuous-or-binary-variables" id="toc-using-continuous-or-binary-variables" class="nav-link" data-scroll-target="#using-continuous-or-binary-variables"><span class="header-section-number">5.1.1</span> Using continuous or binary variables</a></li>
  <li><a href="#using-indicator-variables" id="toc-using-indicator-variables" class="nav-link" data-scroll-target="#using-indicator-variables"><span class="header-section-number">5.1.2</span> Using indicator variables</a></li>
  <li><a href="#stratified-logistic-regression" id="toc-stratified-logistic-regression" class="nav-link" data-scroll-target="#stratified-logistic-regression"><span class="header-section-number">5.1.3</span> Stratified Logistic Regression</a></li>
  </ul></li>
  <li><a href="#linear-regression" id="toc-linear-regression" class="nav-link" data-scroll-target="#linear-regression"><span class="header-section-number">5.2</span> Linear Regression</a></li>
  <li><a href="#survival-data" id="toc-survival-data" class="nav-link" data-scroll-target="#survival-data"><span class="header-section-number">5.3</span> Survival Data</a>
  <ul class="collapse">
  <li><a href="#set-up" id="toc-set-up" class="nav-link" data-scroll-target="#set-up"><span class="header-section-number">5.3.1</span> Set-up</a></li>
  <li><a href="#graphs" id="toc-graphs" class="nav-link" data-scroll-target="#graphs"><span class="header-section-number">5.3.2</span> Graphs</a></li>
  <li><a href="#summary-statistics" id="toc-summary-statistics" class="nav-link" data-scroll-target="#summary-statistics"><span class="header-section-number">5.3.3</span> Summary statistics</a></li>
  <li><a href="#statistical-tests-1" id="toc-statistical-tests-1" class="nav-link" data-scroll-target="#statistical-tests-1"><span class="header-section-number">5.3.4</span> Statistical tests</a></li>
  <li><a href="#cox-regression" id="toc-cox-regression" class="nav-link" data-scroll-target="#cox-regression"><span class="header-section-number">5.3.5</span> Cox Regression</a></li>
  </ul></li>
  <li><a href="#goodness-of-fit-statistics" id="toc-goodness-of-fit-statistics" class="nav-link" data-scroll-target="#goodness-of-fit-statistics"><span class="header-section-number">5.4</span> Goodness of Fit Statistics</a></li>
  </ul></li>
  <li><a href="#additional-resources" id="toc-additional-resources" class="nav-link" data-scroll-target="#additional-resources"><span class="header-section-number">6</span> Additional resources</a>
  <ul class="collapse">
  <li><a href="#creating-table-1-in-stata" id="toc-creating-table-1-in-stata" class="nav-link" data-scroll-target="#creating-table-1-in-stata"><span class="header-section-number">6.1</span> Creating table 1 in stata</a></li>
  <li><a href="#table-of-links-to-helpful-manuals-and-youtube-videos" id="toc-table-of-links-to-helpful-manuals-and-youtube-videos" class="nav-link" data-scroll-target="#table-of-links-to-helpful-manuals-and-youtube-videos"><span class="header-section-number">6.2</span> Table of links to helpful manuals and YouTube videos</a></li>
  </ul></li>
  </ul>
</nav>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Basic Stata Coding Overview</h1>
</div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">August 15, 2022</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="tips-before-you-start" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Tips before you start</h1>
<ul>
<li><p>There is a lot of documentation and support available at your fingertips both within Stata and outside of Stata on blogs, other educational websites, YouTube and more.</p>
<ul>
<li>Within Stata, use the <code>help</code> command to get an overview, more options and examples for a specific command. There is also the <code>search</code> command where you can type in key words and Stata will search for these key words.<br>
</li>
</ul>
<div class="sourceCode" id="cb1"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="kw">help</span>(command_name)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="kw">help</span> command_name</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="kw">search</span> [keyword <span class="kw">search</span> terms here]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Within the Stata Help menu, you can select ‘PDF Documentation’ to access the manuals.</li>
<li>There are also plenty of resources on the Stata Support site: <a href="http://www.Stata.com/support/" class="uri">http://www.Stata.com/support/</a></li>
</ul></li>
<li><p>Stata is case sensitive (e.g.&nbsp;if a variable is ‘ID’, you must refer to it as ‘ID’, not ‘id’). ? It is best to save and write your Stata code in a .do file.</p></li>
<li><p>Notes/comments can be added for easy annotation of the program. An asterisk at the beginning of the line denotes a comment that can be used interactively. For example:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>*This is a <span class="kw">note</span> that</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>*Stata will <span class="kw">not</span> read</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>When coding in Stata, Stata does not like to read in location paths or datasets that have a space in the name (e.g.&nbsp;Stata does not like to read in <code>"Your path here/name of dataset.dta"</code>, and would prefer a file name without spaces, such as: <code>"Your_path_here/name_of_dataset.dta"</code>).</p></li>
<li><p>If you only want to run a command for a subset of the data, add <code>if varname==value</code> to the end of the command statement (e.g.&nbsp;<code>summarize age, if gender==1</code>).</p></li>
<li><p>If you start to run a command and need to stop the command or prevent more output from appearing, you can select the Break icon in the top-right corner to stop the command.</p></li>
<li><p>In Stata 14 and older versions, while executing a command, Stata will display <code>--more--</code> and pause until any key is pressed. To turn off the more message, use the command <code>set more off</code>. To turn the message on: <code>set more on</code>. From Stata 15, set more off is now the default option (<code>help whatsnew14to15 =&gt; 71. Set more off now the default</code>)</p></li>
</ul>
</section>
<section id="getting-started-with-stata" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Getting started with Stata</h1>
<p>Open Stata 14.0. If you have already been working in Stata with a different dataset, you can clear the previous working dataset with the following command:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="kw">clear</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<section id="create-and-execute-a-.do-file" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="create-and-execute-a-.do-file"><span class="header-section-number">2.1</span> Create and execute a .do file</h2>
<p>A do-file is a file containing a list of commands that can be saved, which allows one to run the same commands in the future to reproduce your work. To open a new .do file, one can:</p>
<ol type="1">
<li><p>Click on the “Do-file Editor” icon located at the top Stata bar:</p></li>
<li><p>Or, go to the menu options: File/New/Do-file, or Window/Do-file Editor/New Do-file Editor. A .do file will open:</p></li>
</ol>
<p>The Do-File Editor acts just like Word or any text editor so that we can type any Stata commands.</p>
<p>Note that do-file editor has different text colors for specific parts of the Stata commands:</p>
<ol type="1">
<li>Green: Comments (green arrow)</li>
<li>Red: Character (ex. <code>"filename"</code>, red arrow)</li>
<li>Blue: Stata commands (ex. <code>use</code>, <code>clear</code>, <code>summarize</code>, <code>histogram</code>, <code>graph</code>, <code>tabulate</code>, <code>regress</code>, blue arrow)</li>
<li>Black: Other aspects of the command (black arrow)</li>
</ol>
<p>Additional colors are added to other aspects of the commands. For example, if a command is misspelled (<code>tablate</code> rather than <code>tabulate</code>), this will not turn blue in the Do-File Editor and you can easily identify the spelling error.</p>
<p>To run all or a subset of the commands in the Do-File Editor, we can push the button at the top of the Do-File Editor that is labeled “Execute (Do)” if you hover over it (orange arrow). If you click this button, all of the commands in the do file will be executed. If you would like to execute only a subset of the commands, you can highlight the commands you would like to execute and then click the button.</p>
<p>To learn even more details about .do files (ex. more ways to write comments, long lines, error handling, logging the output, preventing -more- conditions, calling other do-files, creating and running do-files for Mac/Windows/Unix, or suppressing output), go the Stata manual (see Table 1).</p>
</section>
<section id="read-in-a-dataset-.dta-.xlsx-.csv-and-.xpt" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="read-in-a-dataset-.dta-.xlsx-.csv-and-.xpt"><span class="header-section-number">2.2</span> Read in a Dataset (.dta, .xlsx, .csv, and .xpt)</h2>
<p>Datasets can be in various formats, such as .dta (Stata), .xls (Excel), .csv (Comma Separated Value), and .sas7bdat (SAS) files. There are a few ways to read in these types of dataset files, some of which require you to know the location of the dataset on your computer. To determine the location of a dataset stored on a Windows computer, can right-click and click on ‘Properties’ and copy and paste the location path.</p>
<p>The option <code>, clear</code> will clear out a dataset if one is already open. If a dataset is open and you do not use the <code>clear</code> option and, you will get an error. If you need help or would like to learn more options, you can use the Stata help command by typing in <code>help nameofcommandhere</code>; for example, <code>help use</code> or <code>help import</code> or <code>help insheet.</code> Helpful video link: <a href="https://www.youtube.com/watch?v=3CjXMC2hFEA" class="uri">https://www.youtube.com/watch?v=3CjXMC2hFEA</a></p>
<p>Another option is to use the Stat/Transfer software to convert dataset from various formats into an .dta (Stata) file. Stat/Transfer is available within the HSPH student’s Virtual Desktop Infrastructure (VDI) system <a href="https://www.hsph.harvard.edu/information-technology/service/virtual-desktop-infrastructure/" class="uri">https://www.hsph.harvard.edu/information-technology/service/virtual-desktop-infrastructure/</a> <a href="https://www.hsph.harvard.edu/information-technology/frequently-asked-questions/vdifaq/student-vdi-software-inventory/" class="uri">https://www.hsph.harvard.edu/information-technology/frequently-asked-questions/vdifaq/student-vdi-software-inventory/</a></p>
<section id="reading-a-stata-.dta-file" class="level3" data-number="2.2.1">
<h3 data-number="2.2.1" class="anchored" data-anchor-id="reading-a-stata-.dta-file"><span class="header-section-number">2.2.1</span> Reading a Stata .dta file</h3>
<p>1) Use the <code>use</code> command followed by the data location in quotations. The option <code>, clear</code> will clear out a dataset if one is already open. If a dataset is open and you do not use the ‘clear’ option and, you will get an error.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="kw">use</span> <span class="st">"Yourpathhere/folder/nameofdataset.dta"</span>, <span class="kw">clear</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Or, 2) tell Stata the name of your working directory using the ‘cd’ command and then use the ‘use’ command to open the .dta file:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>cd <span class="st">"Yourpathhere/folder"</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="kw">use</span> nameofdataset, <span class="kw">clear</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Or, 3) Use the drop-down menu: File/Open/ and then Browse for the Stata .dta file.</p>
</section>
<section id="importing-an-excel-file" class="level3" data-number="2.2.2">
<h3 data-number="2.2.2" class="anchored" data-anchor-id="importing-an-excel-file"><span class="header-section-number">2.2.2</span> Importing an Excel file</h3>
<p>The data should be on the first Excel sheet tab. Use the <code>import</code> command to import an Excel file. The option <code>, firstrow</code> will tell Stata to treat the first row of Excel data as variable names. Alternatively, you can use the drop-down menu: File/Import/Excel Spreadsheet/ and browse for the Excel file and select the ‘Import first row as variable names’ option.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>import excel Yourpathhere/nameofdataset.xlsx, firstrow</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="importing-a-.csv-file" class="level3" data-number="2.2.3">
<h3 data-number="2.2.3" class="anchored" data-anchor-id="importing-a-.csv-file"><span class="header-section-number">2.2.3</span> Importing a .csv file</h3>
<p>Use the <code>insheet</code> command to import a .csv file.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="kw">insheet</span> <span class="kw">using</span> <span class="st">"Yourpathhere/nameofdataset.csv"</span>, <span class="kw">clear</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="reading-in-a-sas-file" class="level3" data-number="2.2.4">
<h3 data-number="2.2.4" class="anchored" data-anchor-id="reading-in-a-sas-file"><span class="header-section-number">2.2.4</span> Reading in a SAS file</h3>
<p>Compared to Excel files, it is not as simple to read in a SAS file to Stata. Stata can easily import a SAS XPORT (*.xpt) file using the drop-down menu: File/Import/SAS XPORT and Browse for the .xpt file. Or you can use the <code>import</code> command below.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>import sasxport <span class="st">"Yourpathhere/nameofdataset.xpt"</span>, <span class="kw">clear</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>If you have SAS, you can use the proc export command in SAS to output a .dta file or an Excel file.</p>
<p>If you do not have SAS, then you may need to use the Stat/Transfer software that easily converts a SAS file to a Stata file. Stat/Transfer is available within the HSPH student’s Virtual Desktop Infrastructure (VDI) system:</p>
<ul>
<li><a href="https://www.hsph.harvard.edu/information-technology/service/virtual-desktop-infrastructure/" class="uri">https://www.hsph.harvard.edu/information-technology/service/virtual-desktop-infrastructure/</a></li>
<li><a href="https://www.hsph.harvard.edu/information-technology/frequently-asked-questions/vdi-faq/studentvdi-software-inventory/" class="uri">https://www.hsph.harvard.edu/information-technology/frequently-asked-questions/vdi-faq/studentvdi-software-inventory/</a></li>
</ul>
<p>Helpful link: <a href="https://stats.idre.ucla.edu/other/mult-pkg/faq/how-do-i-use-a-sas-data-file-in-stata/" class="uri">https://stats.idre.ucla.edu/other/mult-pkg/faq/how-do-i-use-a-sas-data-file-in-stata/</a></p>
</section>
</section>
<section id="get-to-know-your-data" class="level2" data-number="2.3">
<h2 data-number="2.3" class="anchored" data-anchor-id="get-to-know-your-data"><span class="header-section-number">2.3</span> Get to know your data</h2>
<p>One can get a brief overview of your dataset on the number of observations, the number of variables, variable names, formats, and labels using the <code>describe</code> command. This is highly recommended to do!</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="kw">describe</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>To see what the entire dataset looks like, one can select on the “Data Browser” icon or use the “browse” command. This will open the data browser that will look a lot like an Excel spreadsheet.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>browse</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>To compactly list the variable names:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="kw">ds</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>To count the number of observations (i.e.&nbsp;rows of data) in a dataset:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">count</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>To count the number of observations in a subset of the data:</p>
<p>Code for character variables:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">count</span> <span class="kw">if</span> varname=='Male'</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Code for numeric variables:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">count</span> <span class="kw">if</span> varname==1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>One can use the <code>codebook</code> command to print the variable name, label, variable type, range, number of unique values, and some descriptive information. This is very useful for categorical variables. If you do not include a variable name after the <code>codebook</code> command, then you will get output for every variable in the dataset.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="kw">codebook</span> varname1 varname2 varname3</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="basic-data-management" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> Basic data management</h1>
<section id="generate-quadratic-term" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="generate-quadratic-term"><span class="header-section-number">3.1</span> Generate quadratic term</h2>
<div class="sourceCode" id="cb16"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="kw">generate</span> newvar=oldvar*oldvar</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="generate-a-categorical-variable-based-on-cut-points" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="generate-a-categorical-variable-based-on-cut-points"><span class="header-section-number">3.2</span> Generate a categorical variable based on cut-points</h2>
<p>There are a couple ways to create a categorical variable <code>'newvar'</code> based on cutpoint values of <code>'oldvar'</code> at cutpoints <code>x</code> and <code>y</code>.</p>
<ol type="1">
<li>One can use the cut function of the <code>egen</code> command to create a new categorical variable with the left-hand ends of the intervals specified in that <code>at()</code> option. For example, say you have a variable with a minimum of 0 and a maximum of 100 with some missing values and you would like to make three categories defined by the values [0,x] (category 1), [x,y] (category 2), and [y,100] (category 3). In the <code>at()</code> option of the <code>egen</code> and <code>cut</code> commands, you will want to supply the left- hand breaks: 0, x, y and then a value larger than the maximum. The label option will label each of the levels of the categorical variable with the left-hand break value. <a href="http://www.stata.com/manuals13/degen.pdf" class="uri">http://www.stata.com/manuals13/degen.pdf</a><br>
</li>
</ol>
<div class="sourceCode" id="cb17"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="kw">egen</span> newvar = <span class="fu">cut</span>(oldvar), <span class="fu">at</span>(0,x,<span class="fu">y</span>,101) <span class="kw">label</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><p>Example:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="kw">egen</span> agecat= <span class="fu">cut</span>(age), <span class="fu">at</span>(0,40,60,80,101) <span class="kw">label</span> </span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="kw">tabulate</span> agecat </span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>     agecat |      Freq.     Percent        Cum. </span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>------------+----------------------------------- </span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>          0-|        180        2.65        2.65 </span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>         40-|      2,007       29.51       32.16 </span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>         60-|      4,271       62.81       94.97 </span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>         80-|        342        5.03      100.00 </span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>------------+----------------------------------- </span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>      Total |      6,800      100.00 </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul>
<ol start="2" type="1">
<li>Use the <code>generate</code> and <code>replace</code> commands but be aware that Stata will bin those with missing values in the category with an open-ended greatest than sign unless clearly specified. To generate a new categorical variable based on a set of cutpoints (ex. 40, 60, 80):<br>
</li>
</ol>
<div class="sourceCode" id="cb19"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="kw">generate</span> newvar=0 <span class="kw">if</span> oldvar!=. </span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="kw">replace</span> newvar=1 <span class="kw">if</span> oldvar &gt;= 40 &amp; oldvar &lt; 60 </span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="kw">replace</span> newvar=2 <span class="kw">if</span> oldvar &gt;=60 &amp; oldvar &lt; 80 </span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="kw">replace</span> newvar=3 <span class="kw">if</span> oldvar &gt;=80 &amp; oldvar != . </span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>*The <span class="kw">syntax</span> '!=' <span class="kw">means</span> <span class="kw">not</span> equal. This <span class="kw">line</span> must <span class="kw">be</span> included <span class="kw">or</span> <span class="kw">else</span> </span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>*those with <span class="fu">missing</span> will <span class="kw">be</span> binned <span class="kw">in</span> the newvar=3 category </span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a><span class="kw">tabulate</span> newvar </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><p>Another way:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="kw">generate</span> newvar=0 </span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="kw">replace</span> newvar=1 <span class="kw">if</span> oldvar &gt;= 40 &amp; oldvar &lt; 60</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="kw">replace</span> newvar=2 <span class="kw">if</span> oldvar </span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>&gt;=60 &amp; oldvar &lt; 80 <span class="kw">replace</span> newvar=3 <span class="kw">if</span> oldvar &gt;=80 </span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a> <span class="kw">replace</span> newvar=. <span class="kw">if</span> oldvar==. </span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>*Without <span class="kw">this</span> <span class="kw">line</span>, those with <span class="fu">missing</span> <span class="kw">values</span> will <span class="kw">be</span> included</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>*<span class="kw">in</span> the newvar=3 category </span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a><span class="kw">tabulate</span> newvar </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul>
</section>
<section id="generate-quantiles" class="level2" data-number="3.3">
<h2 data-number="3.3" class="anchored" data-anchor-id="generate-quantiles"><span class="header-section-number">3.3</span> Generate quantiles</h2>
<p>Use the <code>xtile</code> command to generate a categorical variable based on quantiles cutoffs (for tertiles, use<code>nquantile(3)</code>; for quartiles, use <code>nquantile(4)</code>; etc. the default is <code>nquantile(2)</code>):</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="kw">xtile</span> newvar=oldvar, nquantiles(#)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="generate-an-indicatordummy-variable" class="level2" data-number="3.4">
<h2 data-number="3.4" class="anchored" data-anchor-id="generate-an-indicatordummy-variable"><span class="header-section-number">3.4</span> Generate an indicator/dummy variable</h2>
<ol type="1">
<li>To generate indicator or dummy variables for a categorical variable, one can use the <code>generate()</code> option of the <code>tabulate</code> command, where a stem name is included within the parentheses to generate X number of dummy variables. Stata will use the stem name to create X number of dummy variables starting from <code>stemname1</code>-<code>stemnameX</code>.<br>
</li>
</ol>
<div class="sourceCode" id="cb22"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="kw">tabulate</span> newvar, <span class="kw">gen</span>(newvar_dummy)  </span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="kw">tabulate</span> newvar_dummy1 </span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="kw">tabulate</span> newvar_dummy2  </span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="kw">tabulate</span> newvar_dummy3  </span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a><span class="kw">tabulate</span> newvar_dummy4  </span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a><span class="kw">tabulate</span> newvar_dummy5 </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ol start="2" type="1">
<li>One could also code the indicator/dummy variables manually using the <code>generate</code> and <code>replace</code> commands. Again, be aware the Stata will bin those with missing values in a category and you must specify how to handle those with missing.<br>
</li>
</ol>
<div class="sourceCode" id="cb23"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="kw">generate</span> indicator1 = 0 <span class="kw">if</span> oldvar !=. *the <span class="kw">syntax</span> '!=' <span class="kw">means</span> <span class="kw">not</span> equal. </span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="kw">replace</span> indicator1=1 <span class="kw">if</span> oldvar &lt; 100 &amp; oldvar !=. </span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="kw">generate</span> indicator2 = 0 <span class="kw">if</span> oldvar !=. </span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a><span class="kw">replace</span> indicator2=1 <span class="kw">if</span> oldvar&gt;=100 &amp; oldvar&lt;200 &amp; oldvar !=. </span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a><span class="kw">generate</span> indicator3 = 0 <span class="kw">if</span> oldvar !=. <span class="kw">replace</span> indicator3=1 <span class="kw">if</span>  oldvar&gt;=200 &amp;     oldvar !=. </span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>... </span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a><span class="kw">tabulate</span> indicator1  </span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a><span class="kw">tabulate</span> indicator2 </span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a><span class="kw">tabulate</span> indicator3 </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="label-a-new-variable" class="level2" data-number="3.5">
<h2 data-number="3.5" class="anchored" data-anchor-id="label-a-new-variable"><span class="header-section-number">3.5</span> Label a new variable</h2>
<p>One can use the <code>label variable</code> command to give a label to a variable:</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="kw">label</span> <span class="kw">variable</span> newvar <span class="st">"Add your label description here"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>One can also add labels to each level of a categorical variable using both the <code>label define</code> and the <code>label values</code> commands. Say we have a variable called <code>newvar</code> that takes on the values 1, 2, 3, 4, and 5 to represent quintiles. We will define each of the levels of <code>newvar</code> and store that information to <code>newvar_f</code>; then, we will assign the values of <code>newvar_f</code> to the variable newvar. We will check that this worked by using the <code>codebook</code> command to see that labels were assigned correctly to the variable and to each level of the categorical variable.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="kw">label</span> <span class="kw">define</span> newvar_f 1 <span class="st">"Quintile 1"</span> 2 <span class="st">"Quintile 2"</span> 3 <span class="st">"Quintile 3"</span> 4 <span class="st">"Quintile 4"</span> 5 <span class="st">"Quintile 5"</span>  </span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="kw">label</span> <span class="kw">values</span> newvar newvar_f </span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a><span class="kw">codebook</span> newvar</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="sort-the-data" class="level2" data-number="3.6">
<h2 data-number="3.6" class="anchored" data-anchor-id="sort-the-data"><span class="header-section-number">3.6</span> Sort the data</h2>
<p>The default of the <code>sort</code> command is in ascending order.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="kw">sort</span> varname</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>You can sort on multiple variables to arrange observations in to ascending order based on <code>varname1</code>, and within each <code>varname1</code> category one can sort into ascending order by <code>varname2</code>.</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="kw">sort</span> varname1 varname2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="merge-two-datasets-with-a-single-row-for-each-individual" class="level2" data-number="3.7">
<h2 data-number="3.7" class="anchored" data-anchor-id="merge-two-datasets-with-a-single-row-for-each-individual"><span class="header-section-number">3.7</span> Merge two datasets with a single row for each individual</h2>
<p>To merge two datasets, both datasets should be sorted by the identification variable (ex. <code>idvar</code>). After running the <code>merge</code> command line, a variable <code>_merge</code> is created; this can complicate matters if you are merging more than 2 datasets.</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="kw">use</span> <span class="st">"Yourpathhere/nameofdataset1.dta"</span>, <span class="kw">clear</span> <span class="kw">sort</span> idvar </span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="kw">merge</span> 1:1 idvar <span class="kw">using</span> <span class="st">"Yourpathhere/nameofdataset2.dta"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>If both datasets are saved in the same folder location:</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>cd <span class="st">"YourDataLocationFolder/"</span> <span class="kw">use</span> nameofdataset1.dta, <span class="kw">clear</span>  <span class="kw">sort</span> idvar </span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="kw">merge</span> 1:1 idvar <span class="kw">using</span> nameofdataset2.dta </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>If you only want to retain observations that appear in both datasets, one can add the <code>keep(match)</code> option to the <code>merge</code> command:</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="kw">merge</span> 1:1 idvar <span class="kw">using</span> nameofdataset2.dta, <span class="kw">keep</span>(<span class="fu">match</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="keeping-and-dropping-observations" class="level2" data-number="3.8">
<h2 data-number="3.8" class="anchored" data-anchor-id="keeping-and-dropping-observations"><span class="header-section-number">3.8</span> Keeping and dropping observations</h2>
<p>Please note that if you keep or drop certain observations, these observations will not be included in any future data management or analyses.</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="kw">keep</span> <span class="kw">if</span> age&gt;35  </span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="kw">keep</span> <span class="kw">if</span> sex==<span class="st">"F"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb32"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="kw">drop</span> <span class="kw">if</span> age&lt;=35  <span class="kw">drop</span> <span class="kw">if</span> sex==<span class="st">"M"</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="descriptives-statistical-tests-and-visualization-tools" class="level1" data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span> Descriptives, statistical tests, and visualization tools</h1>
<section id="categorical-data-frequencies-tests-and-association-measures" class="level2" data-number="4.1">
<h2 data-number="4.1" class="anchored" data-anchor-id="categorical-data-frequencies-tests-and-association-measures"><span class="header-section-number">4.1</span> Categorical data: frequencies, tests, and association measures</h2>
<section id="one-way-frequency-table" class="level3" data-number="4.1.1">
<h3 data-number="4.1.1" class="anchored" data-anchor-id="one-way-frequency-table"><span class="header-section-number">4.1.1</span> One-way frequency table</h3>
<p>One can get a frequency table as well as the percentages and cumulative percentages for categorical data using the <code>tabulate</code> command. To check for those with missing data (i.e.&nbsp;varname==.), one can add the missing option to the tabulate command.</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="kw">tabulate</span> varname  <span class="kw">tab</span> varname </span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="kw">tabulate</span> varname, <span class="fu">missing</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>One can estimate the proportions, standard errors and 95% CI of the proportions using the <code>proportions</code> command.</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="kw">proportion</span> varname1 varname2 varnameX</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="rxc-frequency-tables" class="level3" data-number="4.1.2">
<h3 data-number="4.1.2" class="anchored" data-anchor-id="rxc-frequency-tables"><span class="header-section-number">4.1.2</span> RxC frequency tables</h3>
<p>One can easily extend the <code>tabulate</code> command to cross-tabulate two categorical variables. There are options in the <code>tabulate</code> command to obtain the Pearson’s Chi-squared statistic and the Fisher’s exact test.</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="kw">tabulate</span> varname1 varname2 </span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="kw">tabulate</span> varname1 varname2, <span class="fu">missing</span> </span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a><span class="kw">tabulate</span> varname1 varname2, <span class="fu">chi2</span> </span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a><span class="kw">tabulate</span> varname1 varname2, exact </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="two-sample-test-of-proportions" class="level3" data-number="4.1.3">
<h3 data-number="4.1.3" class="anchored" data-anchor-id="two-sample-test-of-proportions"><span class="header-section-number">4.1.3</span> Two-sample test of proportions</h3>
<p>Note that the binary variable, <code>varname1</code>, should be coded 0/1.</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="kw">prtest</span> varname1, <span class="kw">by</span>(varname2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="estimate-measures-of-association" class="level3" data-number="4.1.4">
<h3 data-number="4.1.4" class="anchored" data-anchor-id="estimate-measures-of-association"><span class="header-section-number">4.1.4</span> Estimate measures of association</h3>
<p>One can estimate the Risk Difference, Risk Ratio, Odds Ratio between two binary variables (coded as 0/1) using the <code>cs</code> (i.e.&nbsp;cohort study) command with the <code>or</code> (i.e.&nbsp;Odds Ratio) option.</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="kw">cs</span> varname1 varname2, <span class="kw">or</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="stratified-frequency-tables" class="level3" data-number="4.1.5">
<h3 data-number="4.1.5" class="anchored" data-anchor-id="stratified-frequency-tables"><span class="header-section-number">4.1.5</span> Stratified frequency tables</h3>
<p>If you want to see frequencies or summary statistics of a variable (ex. <code>varname1</code> or <code>varname3</code>) within each value of a categorical variable (ex. <code>categoricalvariable</code>):</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="kw">bysort</span> categoricalvariable: <span class="kw">tabulate</span> varname1  </span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="kw">bysort</span> categoricalvariable: <span class="kw">summarize</span> varname3 </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Another way to code:</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="kw">sort</span> categoricalvariable </span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="kw">by</span> categoricalvariable: <span class="kw">tabulate</span> varname1 </span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a><span class="kw">by</span> categoricalvariable: <span class="kw">summarize</span> varname3 </span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a><span class="kw">by</span> categoricalvariable, <span class="kw">sort</span>: <span class="kw">tabulate</span> varname 1 </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="continuous-data-summary-statistics-visualization-and-statistical-tests" class="level2" data-number="4.2">
<h2 data-number="4.2" class="anchored" data-anchor-id="continuous-data-summary-statistics-visualization-and-statistical-tests"><span class="header-section-number">4.2</span> Continuous data: summary statistics, visualization, and statistical tests</h2>
<section id="measures-of-location-and-variance" class="level3" data-number="4.2.1">
<h3 data-number="4.2.1" class="anchored" data-anchor-id="measures-of-location-and-variance"><span class="header-section-number">4.2.1</span> Measures of location and variance</h3>
<p>Use the <code>summarize</code> command to obtain summary statistics for continuous data (ex. mean, minimum, maximum, standard deviation). The detail option provides additional information on the median, variance, the interquartile range values, and the 4 smallest and 4 largest values.</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="kw">summarize</span> varname  </span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a><span class="kw">summarize</span> varname, <span class="kw">detail</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>One can estimate the standard errors and 95% CI of the mean using the <code>ci</code> or <code>ci means</code> command.</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="kw">ci</span> <span class="kw">means</span> varname1 varname2 varnameX</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="histogram" class="level3" data-number="4.2.2">
<h3 data-number="4.2.2" class="anchored" data-anchor-id="histogram"><span class="header-section-number">4.2.2</span> Histogram</h3>
<p>A histogram graphics for continuous data</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="kw">histogram</span> age, <span class="kw">frequency</span> <span class="bn">xtitle</span>(Age) <span class="bn">title</span>(Histogram <span class="kw">of</span> age)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="box-plots" class="level3" data-number="4.2.3">
<h3 data-number="4.2.3" class="anchored" data-anchor-id="box-plots"><span class="header-section-number">4.2.3</span> Box plots</h3>
<p>To show a box-and-whisker plot of age and a box plot of age by a categorical variable (ex. sex)</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="kw">graph</span> box age, <span class="bn">ytitle</span>(Age) <span class="bn">title</span>(Box plot <span class="kw">of</span> age) </span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a><span class="kw">graph</span> box age, <span class="bn">over</span>(sex) <span class="bn">ytitle</span>(Age) <span class="bn">title</span>(Box plot <span class="kw">of</span> age <span class="kw">by</span> sex)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="scatterplot" class="level3" data-number="4.2.4">
<h3 data-number="4.2.4" class="anchored" data-anchor-id="scatterplot"><span class="header-section-number">4.2.4</span> Scatterplot</h3>
<p>Scatterplot of two continuous variables</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="kw">twoway</span> (<span class="kw">scatter</span> age bmi), <span class="bn">ytitle</span>(Age) <span class="bn">xtitle</span>(BMI)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>More examples and codes in: <a href="http://www.Stata.com/support/faqs/graphics/gph/Stata-graphs/" class="uri">http://www.Stata.com/support/faqs/graphics/gph/Stata-graphs/</a></p>
</section>
<section id="statistical-tests" class="level3" data-number="4.2.5">
<h3 data-number="4.2.5" class="anchored" data-anchor-id="statistical-tests"><span class="header-section-number">4.2.5</span> Statistical Tests</h3>
<p>To conduct a two-sample T-test (normally distributed continuous variable by a binary variable), use the <code>ttest</code> command and select the ‘unequal’ variance option if desired:</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="kw">ttest</span> continuousvar, <span class="kw">by</span>(binaryvar) unequal  </span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a><span class="kw">ttest</span> continuousvar, <span class="kw">by</span>(binaryvar)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>To conduct a one-way ANOVA (test differences of two or more means), use the <code>anova</code> or <code>oneway</code> commands:</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>anova continuousvar categoricalvar  </span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a><span class="kw">oneway</span> continuousvar categoricalvar</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>To conduct a non-parametric test Wilcoxon Rank-sum test (aka Mann-Whitney U test) for non- normally distributed data, use the <code>ranksum</code> command:</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="kw">ranksum</span> continuousvar, <span class="kw">by</span>(categoricalvar)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="correlation-coefficients" class="level3" data-number="4.2.6">
<h3 data-number="4.2.6" class="anchored" data-anchor-id="correlation-coefficients"><span class="header-section-number">4.2.6</span> Correlation coefficients</h3>
<p>One can estimate the Pearson correlation coeffecients using either the <code>correlate</code> or the <code>pwcorr</code> commands, though the output options vary between the two commands. The <code>correlate</code> command has several options including to print out the variable descriptive statistics and if you prefer the covariance matrix, you can use the covariance option. The <code>pwcorr</code> commands has options to output the number of observations for each comparison and the p-values.</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>correlate varname1 varname2 varname3 varname4, <span class="kw">means</span> </span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>correlate varname1 varname2 varname3 varname4, <span class="kw">means</span> <span class="kw">covariance</span> </span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a><span class="kw">pwcorr</span> varname1 varname2 varname3 varname4, <span class="kw">obs</span> sig</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>One can estimate the Spearman correlation coefficients using the <code>spearman</code> command. With the <code>stats()</code> option, one can output the Spearman correlation coefficients, number of observations and the p-values.</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="kw">spearman</span> varname1 varname2 varname3 varname4, <span class="kw">stats</span>(rho <span class="kw">obs</span> <span class="kw">p</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
</section>
<section id="regression-analyses" class="level1" data-number="5">
<h1 data-number="5"><span class="header-section-number">5</span> Regression analyses</h1>
<section id="logistic-regression" class="level2" data-number="5.1">
<h2 data-number="5.1" class="anchored" data-anchor-id="logistic-regression"><span class="header-section-number">5.1</span> Logistic Regression</h2>
<section id="using-continuous-or-binary-variables" class="level3" data-number="5.1.1">
<h3 data-number="5.1.1" class="anchored" data-anchor-id="using-continuous-or-binary-variables"><span class="header-section-number">5.1.1</span> Using continuous or binary variables</h3>
<p>Code to output the beta coefficients:</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="kw">logit</span> outcome exposure var1 var2 varx </span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a><span class="kw">logistic</span> outcome exposure var1 var2 varx, coef</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Code to output the Odds Ratios:</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="kw">logit</span> outcome exposure var1 var2 varx, <span class="kw">or</span>  </span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a><span class="kw">logistic</span> outcome exposure var1 var2 varx</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="using-indicator-variables" class="level3" data-number="5.1.2">
<h3 data-number="5.1.2" class="anchored" data-anchor-id="using-indicator-variables"><span class="header-section-number">5.1.2</span> Using indicator variables</h3>
<p>To model the categorical predictors with indicator variables, one can use the ‘i.’ function. The default when you use the ‘i.’ function for indicator variables is that the smallest value is the referent group (i.e.&nbsp;the base level is set to first).</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="kw">logit</span> outcome i.exposure i.var1 var2 varx  </span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a><span class="kw">logit</span> outcome i.exposure i.var1 var2 varx, <span class="kw">or</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>To change the referent group, you can 1) use the fvset command, 2) use the <code>ib#.</code> operator, or 3) manually generate new indicator variables.</p>
<ol type="1">
<li>Using the fvset command, you have the option to specify the referent group as the lowest level value (first; the default), the highest level value (last), or the most frequent level value (frequent).<br>
</li>
</ol>
<ul>
<li>Code to change the referent group:<br>
</li>
</ul>
<div class="sourceCode" id="cb53"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>fvset base [first/<span class="fu">last</span>/frequent] var1  </span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>fvset base first var1 </span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>fvset base <span class="fu">last</span> var1  </span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>fvset base frequent var1  </span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a><span class="kw">logistic</span> outcome i.var1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ol start="2" type="1">
<li>Using the <code>ib#.</code> operator, you can specify the base level of a factor variable by using the ib. operator.<br>
</li>
</ol>
<ul>
<li>For more information: <a href="http://www.Stata.com/manuals13/u11.pdf#u11.4.3.2Baselevels" class="uri">http://www.Stata.com/manuals13/u11.pdf#u11.4.3.2Baselevels</a><br>
</li>
<li>For example, if you have a 3-level exposure variable (low, medium, high), the default referent group is ‘low’ and would be the same as using the ib0.varname operator. To have ‘medium’ as the referent group, you can use the ib1.varname operator.<br>
</li>
<li>Code to change the referent group using the ib# operator:<br>
</li>
</ul>
<div class="sourceCode" id="cb54"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="kw">logistic</span> outcome ib1.exposure var1 var2 varx, <span class="kw">or</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ol start="3" type="1">
<li>You can also manually code the indicator variables to code the desired referent group.</li>
</ol>
<ul>
<li>Code to change the referent group manually:<br>
</li>
</ul>
<div class="sourceCode" id="cb55"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="kw">generate</span> low=0 </span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a><span class="kw">replace</span> low = 1 <span class="kw">if</span> exposure=0  </span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a><span class="kw">generate</span> medium=0 </span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a><span class="kw">replace</span> medium = 1 <span class="kw">if</span> exposure=1  </span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a><span class="kw">generate</span> high=0 </span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a><span class="kw">replace</span> high= 1 <span class="kw">if</span> exposure=2 </span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a><span class="kw">logistic</span> outcome low high var1 var2 varx, <span class="kw">or</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="stratified-logistic-regression" class="level3" data-number="5.1.3">
<h3 data-number="5.1.3" class="anchored" data-anchor-id="stratified-logistic-regression"><span class="header-section-number">5.1.3</span> Stratified Logistic Regression</h3>
<div class="sourceCode" id="cb56"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="kw">by</span> stratificationvar, <span class="kw">sort</span>: <span class="kw">logistic</span> outcome exposure</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="linear-regression" class="level2" data-number="5.2">
<h2 data-number="5.2" class="anchored" data-anchor-id="linear-regression"><span class="header-section-number">5.2</span> Linear Regression</h2>
<p>One can conduct a linear regression model using the <code>regress</code> command with continuous, binary, categorical and indicator variables (see the Logistic Regression section for more information about using indicator variables).</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="kw">regress</span> outcome exposure var1 var2 varx  </span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a><span class="kw">regress</span> outcome exposure var1 var2 varx</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="survival-data" class="level2" data-number="5.3">
<h2 data-number="5.3" class="anchored" data-anchor-id="survival-data"><span class="header-section-number">5.3</span> Survival Data</h2>
<section id="set-up" class="level3" data-number="5.3.1">
<h3 data-number="5.3.1" class="anchored" data-anchor-id="set-up"><span class="header-section-number">5.3.1</span> Set-up</h3>
<p>Tell Stata that the dataset is survival data:</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="kw">stset</span> timetooutcome, failure(outcome==1) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="graphs" class="level3" data-number="5.3.2">
<h3 data-number="5.3.2" class="anchored" data-anchor-id="graphs"><span class="header-section-number">5.3.2</span> Graphs</h3>
<p>KM Curves Overall:</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="kw">sts</span> <span class="kw">graph</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>KM Curves by exposure groups:</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="kw">sts</span> <span class="kw">graph</span>, <span class="kw">by</span>(exposure) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>To add 95% Confidence Interval band and information sample sizes to the figure</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="kw">sts</span> <span class="kw">graph</span>, <span class="kw">by</span>(exposure) <span class="kw">ci</span> risktable </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Log negative-log survivor plots</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="kw">stphplot</span>, <span class="kw">by</span>(exposure)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="summary-statistics" class="level3" data-number="5.3.3">
<h3 data-number="5.3.3" class="anchored" data-anchor-id="summary-statistics"><span class="header-section-number">5.3.3</span> Summary statistics</h3>
<p>To see survivor function at various time points overall and by groups:</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="kw">sts</span> <span class="ot">list</span> </span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a><span class="kw">sts</span> <span class="ot">list</span>, <span class="kw">by</span>(exposure) <span class="kw">compare</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>To get median and other percentile survival times with confidence intervals:</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="kw">stci</span>, <span class="kw">by</span>(exposure) <span class="kw">median</span>  </span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a><span class="kw">stci</span>, <span class="kw">by</span>(exposure) <span class="kw">p</span>(25)  </span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a><span class="kw">stci</span>, <span class="kw">by</span>(exposure) <span class="kw">p</span>(75)  </span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a><span class="kw">stsum</span>, <span class="kw">by</span>(exposure)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="statistical-tests-1" class="level3" data-number="5.3.4">
<h3 data-number="5.3.4" class="anchored" data-anchor-id="statistical-tests-1"><span class="header-section-number">5.3.4</span> Statistical tests</h3>
<p>Log-Rank Test</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="kw">sts</span> <span class="kw">test</span> exposure, <span class="kw">logrank</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Weighted Log-Rank tests (Wilcoxon, Tarone-Ware):</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="kw">sts</span> <span class="kw">test</span> exposure, <span class="kw">wilcoxon</span>  </span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a><span class="kw">sts</span> <span class="kw">test</span> exposure, tware</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="cox-regression" class="level3" data-number="5.3.5">
<h3 data-number="5.3.5" class="anchored" data-anchor-id="cox-regression"><span class="header-section-number">5.3.5</span> Cox Regression</h3>
<p>One can conduct a Cox regression model using the <code>stcox</code> command to estimate Hazard Ratios with continuous, binary, categorical and indicator variables (see the Logistic Regression section for more information about using indicator variables). In order for the <code>stcox</code> command to work, you must tell Stata that you are working with survival data by using the <code>stset</code> command. The option ‘nohr’ will output the beta coefficients, not the Hazard Ratios.</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="kw">stset</span> timetooutcome, failure(outcome==1)  <span class="kw">stcox</span> i.var1 var2 var3 </span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a><span class="kw">stcox</span> i.var1 var2 var3, nohr</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Cox Regression with time-varying covariates:</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="kw">stcox</span> i.var1 var2 var3, tvc(i.var1) texp(_t) nohr</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Competing Risk Analysis: In carrying out a competing risk analysis, the “outcome” variable can take on three values. There must be a value for the actual event of interest (outcome=1); a value for censoring (outcome=0); and a value for the competing risk event (outcome=2). The <code>stset</code> command needs to be given first, in the usual way to identify the event of interest.</p>
<p>Cumulative Incidence Curve (you must run the Cox regression first with at least one predictor)</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a>stcrreg var1, compete(outcome==2) <span class="kw">stcurve</span>, cif</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Cox Regression with a Competing Risk</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>stcrreg i.var1 var2 var3, compete(outcome==2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="goodness-of-fit-statistics" class="level2" data-number="5.4">
<h2 data-number="5.4" class="anchored" data-anchor-id="goodness-of-fit-statistics"><span class="header-section-number">5.4</span> Goodness of Fit Statistics</h2>
<p>To get log Likelihood/AIC/BIC for most recent regression model:</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="kw">estat</span> <span class="kw">ic</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>To run Likelihood Ratio Test comparing two nested models:</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="kw">logit</span> outcome exposure var1  <span class="kw">estimates</span> <span class="kw">store</span> nicknameformodel1 </span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a><span class="kw">logit</span> outcome exposure var1 var2  <span class="kw">estimates</span> <span class="kw">store</span> nicknameformodel2 </span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb72-5"><a href="#cb72-5" aria-hidden="true" tabindex="-1"></a><span class="kw">lrtest</span> nicknameformodel2 nicknameformodel1 <span class="kw">lrtest</span> nicknameformodel2 nicknameformodel1, <span class="kw">stats</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="additional-resources" class="level1" data-number="6">
<h1 data-number="6"><span class="header-section-number">6</span> Additional resources</h1>
<ul>
<li><p>Again, the <code>help</code> and <code>search</code> commands in Stata can be very informative:</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode stata code-with-copy"><code class="sourceCode stata"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="kw">help</span>(command_name)</span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a><span class="kw">help</span> command_name</span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a><span class="kw">search</span> [keyword <span class="kw">search</span> terms here]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>Other Stata Support websites, manuals, blogs:</p>
<ul>
<li><a href="http://www.Stata.com/support/" class="uri">http://www.Stata.com/support/</a></li>
<li><a href="https://www.stata-journal.com/" class="uri">https://www.stata-journal.com/</a></li>
<li><a href="http://blog.Stata.com/" class="uri">http://blog.Stata.com/</a></li>
<li><a href="https://www.stata.com/features/documentation/" class="uri">https://www.stata.com/features/documentation/</a></li>
<li><a href="https://www.stata.com/bookstore/users-guide/" class="uri">https://www.stata.com/bookstore/users-guide/</a></li>
</ul></li>
<li><p>Other Stata Cheat Sheets: <a href="https://geocenter.github.io/StataTraining/portfolio/01_resource/" class="uri">https://geocenter.github.io/StataTraining/portfolio/01_resource/</a></p></li>
<li><p>UCLA Stata website: <a href="https://stats.idre.ucla.edu/stata/" class="uri">https://stats.idre.ucla.edu/stata/</a></p></li>
</ul>
<section id="creating-table-1-in-stata" class="level2" data-number="6.1">
<h2 data-number="6.1" class="anchored" data-anchor-id="creating-table-1-in-stata"><span class="header-section-number">6.1</span> Creating table 1 in stata</h2>
<p>These packages may be useful to you for creating a Table 1 in Stata (showing summary/descriptive statistics.). They are very helpful for your group project and data presentation for publication</p>
<ul>
<li>Make a Table 1 in Stata in no time with “table1_mc” package
<ul>
<li><a href="https://blog.uvm.edu/tbplante/2019/07/11/make-a-table-1-in-stata-in-no-time-with-table1_mc/" class="uri">https://blog.uvm.edu/tbplante/2019/07/11/make-a-table-1-in-stata-in-no-time-with-table1_mc/</a></li>
</ul></li>
<li>Make a Table 1 in Stata with “basetable” package
<ul>
<li><a href="http://www.bruunisejs.dk/StataHacks/basetable/basetable_demo/" class="uri">http://www.bruunisejs.dk/StataHacks/basetable/basetable_demo/</a></li>
</ul></li>
</ul>
</section>
<section id="table-of-links-to-helpful-manuals-and-youtube-videos" class="level2" data-number="6.2">
<h2 data-number="6.2" class="anchored" data-anchor-id="table-of-links-to-helpful-manuals-and-youtube-videos"><span class="header-section-number">6.2</span> Table of links to helpful manuals and YouTube videos</h2>
<table class="table">
<thead>
<tr class="header">
<th></th>
<th>Stata Manual</th>
<th>Helpful YouTube Videos</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Getting Started with Stata</td>
<td></td>
<td>6 very nice, short and helpful EdX videos for Stata beginners: <a href="https://www.youtube.com/playlist?list=PL6p7gIm6aWd-Y1htnfC9QN57fACk8PiCo" class="uri">https://www.youtube.com/playlist?list=PL6p7gIm6aWd-Y1htnfC9QN57fACk8PiCo</a></td>
</tr>
<tr class="even">
<td>.do files</td>
<td><a href="http://www.stata.com/manuals13/u16.pdf" class="uri">http://www.stata.com/manuals13/u16.pdf</a></td>
<td><a href="https://www.youtube.com/watch?v=6syxC5jJz-s" class="uri">https://www.youtube.com/watch?v=6syxC5jJz-s</a></td>
</tr>
<tr class="odd">
<td>Reading in datasets</td>
<td><a href="http://www.stata.com/manuals13/u21.pdf" class="uri">http://www.stata.com/manuals13/u21.pdf</a></td>
<td><a href="https://www.youtube.com/watch?v=3CjXMC2hFEA" class="uri">https://www.youtube.com/watch?v=3CjXMC2hFEA</a></td>
</tr>
<tr class="even">
<td>Basic Data Management</td>
<td>Creating new variables: <a href="http://www.stata.com/manuals13/gsw11.pdf" class="uri">http://www.stata.com/manuals13/gsw11.pdf</a></td>
<td>Creating new variables and labels: <a href="https://www.youtube.com/watch?v=geN1eI64rQU&amp;list=PL6p7gIm6aWd-Y1htnfC9QN57fACk8PiCo&amp;index=5" class="uri">https://www.youtube.com/watch?v=geN1eI64rQU&amp;list=PL6p7gIm6aWd-Y1htnfC9QN57fACk8PiCo&amp;index=5</a></td>
</tr>
<tr class="odd">
<td></td>
<td>egen - Extensions to generate: <a href="http://www.stata.com/manuals13/degen.pdf" class="uri">http://www.stata.com/manuals13/degen.pdf</a></td>
<td>Generating variables using the generate, replace, and label commands: <a href="https://www.youtube.com/watch?v=WX5vbQgfkSc" class="uri">https://www.youtube.com/watch?v=WX5vbQgfkSc</a></td>
</tr>
<tr class="even">
<td></td>
<td>pctile - Create variable containing percentiles: <a href="http://www.stata.com/manuals13/dpc" class="uri">http://www.stata.com/manuals13/dpc</a> tile.pdf</td>
<td></td>
</tr>
<tr class="odd">
<td></td>
<td>How do I create dummy variables?: <a href="https://www.stata.com/support/faqs/data-management/creating-dummyvariables/" class="uri">https://www.stata.com/support/faqs/data-management/creating-dummyvariables/</a></td>
<td></td>
</tr>
<tr class="even">
<td></td>
<td>merge - Merge datasets: <a href="http://www.stata.com/manuals13/dmerge.pdf" class="uri">http://www.stata.com/manuals13/dmerge.pdf</a></td>
<td></td>
</tr>
<tr class="odd">
<td>Descriptives, basic graphs</td>
<td></td>
<td>Exploratory data analysis: <a href="https://www.youtube.com/watch?v=zt8eX9xcbCo&amp;t=2s&amp;list=PL6p7gIm6aWd-Y1htnfC9QN57fACk8PiCo&amp;index=4" class="uri">https://www.youtube.com/watch?v=zt8eX9xcbCo&amp;t=2s&amp;list=PL6p7gIm6aWd-Y1htnfC9QN57fACk8PiCo&amp;index=4</a></td>
</tr>
<tr class="even">
<td></td>
<td></td>
<td>Graphing in stata: <a href="https://www.youtube.com/watch?v=dnnUOCVjF8s&amp;list=PL6p7gIm6aWd-Y1htnfC9QN57fACk8PiCo&amp;index=6" class="uri">https://www.youtube.com/watch?v=dnnUOCVjF8s&amp;list=PL6p7gIm6aWd-Y1htnfC9QN57fACk8PiCo&amp;index=6</a></td>
</tr>
<tr class="odd">
<td></td>
<td></td>
<td>STATA The Very Basics: <a href="https://www.youtube.com/watch?v=kepM_tbQokw" class="uri">https://www.youtube.com/watch?v=kepM_tbQokw</a></td>
</tr>
</tbody>
</table>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>